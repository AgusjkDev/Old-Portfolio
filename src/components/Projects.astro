---
import Section from "./Section.astro";
import Button from "./Button.astro";
import { projects } from "data";
---

<Section id="projects" title="Proyectos" number="03">
    <article class="mx-auto mt-2 grid gap-8 lg:grid-cols-2 lg:gap-10 xl:gap-12 2xl:grid-cols-3">
        {
            projects.map(({ title, anchors, description, technologies }) => (
                <div class="bg-primary-darker hover:drop-shadow-white flex max-w-sm flex-col justify-between rounded p-7 transition-all duration-300 md:aspect-square">
                    <div class="flex flex-col gap-4">
                        <header class="flex justify-between">
                            <h3 class="text-primary-light text-2xl font-semibold">{title}</h3>

                            <div class="flex h-6 gap-2">
                                {anchors.map(({ ariaLabel, title, href, svg }) => (
                                    <a
                                        aria-label={ariaLabel}
                                        title={title}
                                        href={href}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        class="hover:[&>svg]:fill-secondary aspect-square h-full"
                                    >
                                        <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            viewBox={svg.viewBox}
                                            class="fill-primary-light transition-colors duration-300"
                                        >
                                            <path d={svg.path} />
                                        </svg>
                                    </a>
                                ))}
                            </div>
                        </header>

                        <p class="text-primary-light">{description}</p>

                        <div class="flex flex-wrap gap-3">
                            {technologies.map(technology => (
                                <p class="bg-primary-dark/75 font-sfmono text-primary-light rounded-sm px-2 py-1.5 text-xs font-semibold">
                                    {technology}
                                </p>
                            ))}
                        </div>
                    </div>

                    <Button
                        title="¡Lee más sobre éste proyecto en GitHub!"
                        href={`${
                            anchors.find(({ href }) => href.includes("github.com")).href
                        }#readme`}
                        classes="mt-16 md:mt-0"
                    >
                        Leer Más
                    </Button>
                </div>
            ))
        }
    </article>
</Section>
